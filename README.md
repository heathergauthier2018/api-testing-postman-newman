# ğŸ¸ API Testing Suite â€“ TheCocktailDB (Postman + Newman)

This project is an automated API testing suite for [TheCocktailDB](https://www.thecocktaildb.com/), built with **Postman** and executed via **Newman**.

It is designed both as a **professional portfolio piece** and as a **practical regression suite** for any app that consumes this API (including my Cocktail Finder UI project).

---

## âœ¨ What this project demonstrates

- Designing a **structured Postman collection** for a real public API  
- Writing **automated Postman tests**, including:
  - Functional / happy-path scenarios  
  - Negative & edge-case tests  
  - Basic performance checks  
  - Lightweight schema-style validation of JSON structure  
- Using **Postman environments** for maintainable base URLs  
- Running **data-driven tests** from a CSV file  
- Executing tests via **Newman** (CI-friendly)  
- Generating a visual **HTML report** with `newman-reporter-htmlextra`  
- Running the suite automatically in **GitHub Actions CI**

---

## ğŸ§± Tech Stack

- **Postman** â€“ request definitions & JavaScript test scripts  
- **Newman** â€“ command-line Postman runner  
- **newman-reporter-htmlextra** â€“ HTML reporting dashboard  
- **Node.js + npm** â€“ dependency & script management  
- **JavaScript / ChaiJS** â€“ assertion layer inside Postman tests  
- **GitHub Actions** â€“ continuous integration

---

## ğŸ“‚ Project Structure

    api-testing-postman-newman/
    â”œâ”€ postman/
    â”‚  â”œâ”€ collections/
    â”‚  â”‚  â””â”€ cocktail-api-testing-collection.json   # Postman collection with all tests
    â”‚  â””â”€ environments/
    â”‚     â””â”€ thecocktaildb-live.postman_environment.json  # Live API environment (baseUrl)
    â”œâ”€ data/
    â”‚  â””â”€ search-data.csv                           # Data-driven search inputs
    â”œâ”€ reports/
    â”‚  â””â”€ cocktail-api-report.html                  # Generated by Newman htmlextra
    â”œâ”€ .github/
    â”‚  â””â”€ workflows/
    â”‚     â””â”€ api-tests.yml                          # GitHub Actions workflow for Newman run
    â”œâ”€ node_modules/
    â”œâ”€ package.json
    â”œâ”€ package-lock.json
    â””â”€ README.md

---

## ğŸŒ API Under Test

All requests target the base URL:

    https://www.thecocktaildb.com/api/json/v1/1

This is stored as a Postman environment variable:

    baseUrl = https://www.thecocktaildb.com/api/json/v1/1

---

## ğŸ§ª Endpoints & Scenarios Covered

Below is the complete test coverage included in this suite.

### 1ï¸âƒ£ Search Cocktails by Name (Data-Driven)

    GET /search.php?s={{name}}

This request is used both interactively and in **data-driven runs** using `data/search-data.csv`:

    name,expectResults
    margarita,true
    Bloody Mary,true
    sdjasdjhasdjk,false
    ,false
    MARGARITA,true

Key tests:

- Status code is `200`  
- Response time < **800 ms**  
- Response is JSON  
- When `expectResults = true`:
  - `drinks` exists and is a non-empty array  
  - At least one drink name contains `name` (case-insensitive)  
- When `expectResults = false`:
  - `drinks` is `null` or an empty array  

---

### 2ï¸âƒ£ Get Cocktail by ID

    GET /lookup.php?i=11007

Tests:

- Status code is `200`  
- JSON response  
- `drinks` array not empty  
- First drink has `idDrink = "11007"`  
- Basic schema-style checks for fields like `strDrink`, `strInstructions`, `strDrinkThumb`  

---

### 3ï¸âƒ£ Search with Invalid Cocktail Name (Negative)

    GET /search.php?s=sdjasdjhasdjk

Tests:

- Status code is `200`  
- `drinks` is `null` or an empty array  

---

### 4ï¸âƒ£ Filter Cocktails by Category

    GET /filter.php?c=Cocktail

Tests:

- Status code is `200`  
- Response time < **800 ms**  
- Response is JSON  
- `drinks` array is not empty  
- Each drink has: `idDrink`, `strDrink`, `strDrinkThumb`  

---

### 5ï¸âƒ£ Filter Cocktails by Ingredient (Vodka)

    GET /filter.php?i=Vodka

Tests:

- Status code is `200`  
- Response time < **800 ms**  
- Response is JSON  
- `drinks` array is not empty  
- Each drink has `idDrink`, `strDrink`, `strDrinkThumb`  

---

### 6ï¸âƒ£ Get Random Cocktail

    GET /random.php

Tests:

- Status code is `200`  
- Response time < **800 ms**  
- Response is JSON  
- `drinks` array exists  
- Each returned drink has required fields (id, name, thumbnail, etc.)  

---

### 7ï¸âƒ£ Get Cocktail by Invalid ID (Negative)

    GET /lookup.php?i=9999999

Tests:

- Status code is `200`  
- `drinks` is `null` or an empty array  

---

### 8ï¸âƒ£ Search with Empty Name (Edge Case)

    GET /search.php?s=

Tests:

- Status code is `200`  
- When `name` is empty in the data file, the test asserts that no real results are returned  
- Ensures the APIâ€™s empty-search behavior is captured and guarded by tests  

---

### 9ï¸âƒ£ Search with Uppercase Name (Case-Insensitive Search)

    GET /search.php?s=MARGARITA

Tests:

- Status code is `200`  
- `drinks` array is not empty  
- At least one drink name contains â€œmargaritaâ€ (case-insensitive)  

---

### ğŸ”Ÿ Search with Space in Name (URL Encoding)

    GET /search.php?s=Bloody%20Mary

Tests:

- Status code is `200`  
- `drinks` array is not empty  
- At least one drink contains â€œBloody Maryâ€ in its name (case-insensitive)  

---

### ğŸ“Š Summary

- **10 endpoints covered**  
- **Data-driven search tests** across multiple realistic inputs  
- **Schema-style JSON checks** for key fields  
- **0 failures** when run via Newman and GitHub Actions âœ…  

---

## â–¶ï¸ Running the Suite with Newman (Locally)

### 1. Install dependencies

    npm install

### 2. Run all tests

    npm run test:api

### 3. Under-the-hood Newman command

    newman run postman/collections/cocktail-api-testing-collection.json \
      -e postman/environments/thecocktaildb-live.postman_environment.json \
      --iteration-data data/search-data.csv \
      -r cli,htmlextra \
      --reporter-htmlextra-export reports/cocktail-api-report.html

---

## ğŸ¤– GitHub Actions CI

This project includes a **GitHub Actions workflow** that runs the entire Newman suite on every push to `main`.

Workflow file:

    .github/workflows/api-tests.yml

What the pipeline does:

1. Checks out the repository  
2. Installs Node.js  
3. Installs Newman and `newman-reporter-htmlextra`  
4. Runs the Postman collection using:
   - The live environment  
   - The CSV data file for data-driven testing  
5. Publishes the HTML report as a workflow artifact  

This demonstrates how an API regression suite can be wired into continuous integration.

---

## ğŸ“Š HTML Report

Newman generates a rich HTML report at:

    reports/cocktail-api-report.html

Open this file in a browser to see:

- Overall summary (iterations, requests, assertions)  
- Per-request breakdown  
- Performance metrics (response times)  
- Individual assertion pass/fail status  
- Data-driven iteration details  

---

## ğŸ”— Related Project

**Cocktail Finder UI** â€“ A front-end app that consumes this API and can use this suite as its regression safety net.  
https://heathergauthier2018.github.io/cocktail-finder2.0/

---

## ğŸ‘©â€ğŸ’» Author

**Heather Gauthier**  
API Testing â€¢ QA Automation â€¢ Software Engineering Student  

GitHub: [@heathergauthier2018](https://github.com/heathergauthier2018)
